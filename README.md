# Menu-app

**Menu-app** — это современное решение для ресторанов, которое превращает процесс заказа в интерактивное и удобное взаимодействие. Приложение позволяет организовать виртуальную сессию за столом, где каждый гость выбирает блюда, а их заказы мгновенно отображаются для всех участников. Кроме того, Menu-app обеспечивает простой и удобный способ справедливого разделения счета между друзьями.

---

## Содержание

* [Цели](#цели)
* [Архитектурные решения](#архитектурные-решения)
* [Технологии и интеграция](#технологии-и-интеграция)
* [Документация API](#документация-api)
* [CI/CD и развертывание](#ci-cd-и-развертывание)
* [Инструкция по запуску](#инструкция-по-запуску)
* [Полезные ссылки](#полезные-ссылки)

---

## Цели

Цель проекта **Menu-app** — предоставить ресторанам современный инструмент для интерактивных сессий за столом, позволяющий:

- Клиентам быстро и удобно выбирать блюда через мобильное приложение;
- Автоматически отображать выбранные блюда для всех участников сессии;
- Реализовывать удобное разделение счета между друзьями.

---

## Архитектурные решения

Проект реализован на основе упрощённой микросервисной архитектуры с акцентом на низкую связанность компонентов:

- **Микросервисный подход:**  
  Система состоит из двух основных сервисов:
    - **Сервер для WebSocket:** обеспечивает обмен сообщениями в реальном времени между клиентами.
    - **Сервер авторизации и получения списка меню:** реализован на Python с использованием FastAPI.

- **Слабая связанность:**  
  Между сервисом WebSocket и сервером авторизации реализовано минимальное взаимодействие, что позволяет обновлять или масштабировать их независимо.

- **Событийно-ориентированная интеграция:**  
  Для синхронизации двух экземпляров Spring-сервера применяется паттерн event bus на основе Redis Pub/Sub, который эффективно распространяет события между компонентами. 
  Дополнительно, интеграция с внешним брокером сообщений RabbitMQ обеспечивает централизованную и масштабируемую доставку уведомлений пользователям, что значительно повышает отказоустойчивость и гибкость системы при увеличении нагрузки.
---

## Дизайн решения

![alt text](Solution%20Design.png)

## Технологии и интеграция

Проект реализован с использованием следующих технологий:

- **Backend на Java (Spring):**  
  Основной сервер для обработки WebSocket-соединений реализован с помощью Spring.

- **Backend на Python (FastAPI):**  
  Сервис авторизации и получения списка меню разработан на FastAPI.

- **Аутентификация:**  
  Используется библиотека jose JWT для обеспечения безопасности.

- **Синхронизация:**  
  Redis используется для синхронизации между несколькими инстансами Spring-сервера.

- **Брокер сообщений:**  
  RabbitMQ служит централизованной точкой для доставки сообщений пользователям.

---

## Документация API

*[Ссылка на документацию API](ApiDocumentation.html)*

---

## CI/CD и развертывание

Проект автоматизирован с помощью GitHub Actions:

- **CI/CD Pipeline:**  
  Каждый коммит запускает workflow, который:
    - Собирает приложение,
    - Собирает Docker-образ,
    - Производит деплой собранного образа в Docker Hub.
---

## Инструкция по запуску

*Пошаговая инструкция по запуску будет добавлена в будущем.*

---

## Полезные ссылки

- [Репозиторий сервиса авторизации (FastAPI)](https://github.com/Ratery/rs-cloud-api)
- [Репозиторий WebSocket сервера (Spring)](https://github.com/verevka8/MenuServer)
- [Репозиторий мобильного приложения (Android)](https://github.com/verevka8/MenuApp)
