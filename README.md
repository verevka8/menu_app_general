# Menu-app

**Menu-app** — это современное решение для ресторанов, которое превращает процесс заказа в интерактивное и удобное взаимодействие. Приложение позволяет организовать виртуальную сессию за столом, где каждый гость выбирает блюда, а их заказы мгновенно отображаются для всех участников. Кроме того, Menu-app обеспечивает простой и удобный способ справедливого разделения счета между друзьями.

---

## Содержание

* [Цели](#цели)
* [Архитектурные решения](#архитектурные-решения)
* [Компоненты системы](#компоненты-системы)
* [Технологии и интеграция](#технологии-и-интеграция)
* [Документация API](#документация-api)
* [CI/CD и развертывание](#ci-cd-и-развертывание)
* [Инструкция по запуску](#инструкция-по-запуску)
* [Полезные ссылки](#полезные-ссылки)
* [Рекомендации разработчикам](#рекомендации-разработчикам)

---

## Цели

Цель проекта **Menu-app** — предоставить ресторанам современный инструмент для интерактивных сессий за столом, позволяющий:

- Клиентам быстро и удобно выбирать блюда через мобильное приложение;
- Автоматически отображать выбранные блюда для всех участников сессии;
- Реализовывать удобное разделение счета между друзьями.

---

## Архитектурные решения

Проект реализован на основе упрощённой микросервисной архитектуры с акцентом на низкую связанность компонентов:

- **Микросервисный подход:**  
  Система состоит из двух основных сервисов:
    - **Сервер для WebSocket:** обеспечивает обмен сообщениями в реальном времени между клиентами.
    - **Сервер авторизации и получения списка меню:** реализован на Python с использованием FastAPI.

- **Слабая связанность:**  
  Между сервисом WebSocket и сервером авторизации реализовано минимальное взаимодействие, что позволяет обновлять или масштабировать их независимо.

- **Событийно-ориентированная интеграция:**  
  Для синхронизации двух экземпляров Spring-сервера применяется паттерн event bus на основе Redis Pub/Sub, который эффективно распространяет события между компонентами. 
  Дополнительно, интеграция с внешним брокером сообщений RabbitMQ обеспечивает централизованную и масштабируемую доставку уведомлений пользователям, что значительно повышает отказоустойчивость и гибкость системы при увеличении нагрузки.
---

## Дизайн решения

![alt text](Solution%20Design.png)

## Технологии и интеграция

Проект реализован с использованием следующих технологий:

- **Backend на Java (Spring):**  
  Основной сервер для обработки WebSocket-соединений реализован с помощью Spring.

- **Backend на Python (FastAPI):**  
  Сервис авторизации и получения списка меню разработан на FastAPI.

- **Аутентификация:**  
  Используется библиотека jose JWT для обеспечения безопасности.

- **Синхронизация:**  
  Redis используется для синхронизации между несколькими инстансами Spring-сервера.

- **Брокер сообщений:**  
  RabbitMQ служит централизованной точкой для доставки сообщений пользователям.

---

## Документация API

Для API имеется подробная документация (например, с использованием Swagger/OpenAPI), которая позволяет разработчикам быстро интегрировать и тестировать эндпоинты.  
*Ссылка на приложение и документацию будет добавлена позже.*

---

## CI/CD и развертывание

Проект автоматизирован с помощью GitHub Actions:

- **CI/CD Pipeline:**  
  Каждый коммит запускает workflow, который:
    - Сбрасывает тесты,
    - Собирает Docker-образ,
    - Производит деплой собранного образа в Docker Hub.

Эта автоматизация позволяет быстро и надежно обновлять приложение.

---

## Инструкция по запуску

*Пошаговая инструкция по запуску будет добавлена в будущем.*

Пример возможных сценариев развертывания:

- **Локально через Docker Compose:**
    - Команда для сборки и запуска сервисов.
    - Файл `docker-compose.yaml` для настройки окружения.

- **На кластере Kubernetes:**
    - Манифесты `deployment.yml` и `service.yml` для развертывания каждого сервиса.
    - Дополнительные настройки для подключения к брокеру сообщений и Redis.

---

## Полезные ссылки

- [Репозиторий сервиса авторизации (FastAPI)](ссылка_на_репозиторий)
- [Репозиторий WebSocket сервера (Spring)](ссылка_на_репозиторий)
- *Ссылка на само приложение будет добавлена позже.*

---

## Рекомендации разработчикам

Для упрощения дальнейшей разработки и поддержки проекта рекомендуется:

- Следовать принципам низкой связанности при добавлении новых функций.
- Поддерживать актуальность документации API.
- Периодически проверять настройки CI/CD для своевременного обновления зависимостей.
- При масштабировании учитывать особенности работы с RabbitMQ и Redis.
